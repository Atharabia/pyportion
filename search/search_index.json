{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"pages/","title":"Welcome to PyPortion Docs","text":"<p>PyPortion is a lightweight and developer-friendly Python CLI tool that helps you accelerate project development, keep your codebase consistent, and eliminate repetitive work.</p>"},{"location":"pages/#how-does-pyportion-work","title":"How does PyPortion work?","text":"<p>PyPortion works as a command-line interface (CLI) that helps you create, manage, and standardize Python projects using predefined and customizable templates.</p> <p>At a high level, PyPortion follows a simple workflow:</p>"},{"location":"pages/#1-initialize-a-project","title":"1. Initialize a project","text":"<p>You start by running a PyPortion command from your terminal that creates a directory with a clean and well-structured layout based on the selected template.</p> <ul> <li>Does that mean existing projects won\u2019t be covered by PyPortion?</li> </ul> <p>No. You can turn any existing project into a PyPortion project, and we will discuss this later.</p>"},{"location":"pages/#2-apply-templates","title":"2. Apply templates","text":"<p>Templates define the project structure, files, and configurations. PyPortion ships with built-in templates and also allows you to create or extend your own to match your project and team standards.</p>"},{"location":"pages/#3-automate-repetitive-setup","title":"3. Automate repetitive setup","text":"<p>Common setup tasks, such as creating folders, configuration files, and base modules, are handled automatically. This removes repetitive work and ensures consistency across your projects.</p>"},{"location":"pages/#key-features","title":"Key Features","text":"<ul> <li>\ud83d\ude80 Quick Start \u2013 Scaffold new projects in seconds with zero setup time</li> <li>\ud83d\udee0\ufe0f Easy Management \u2013 Maintain and organize your projects effortlessly with built-in templates</li> <li>\ud83d\udce6 Clean &amp; Consistent \u2013 Scalable architecture that stays clean, maintainable, and up to standard as you grow</li> </ul>"},{"location":"pages/#why-pyportion","title":"Why PyPortion?","text":"<ul> <li>\u2728 Boost your development speed</li> <li>\ud83d\udd01 Eliminate repetitive boilerplate work</li> <li>\ud83d\udccf Enforce clean and organized project structure</li> <li>\ud83e\udeb6 Fast, minimal, and easy to extend</li> </ul>"},{"location":"pages/#resources","title":"Resources","text":"<ul> <li>User Guide</li> <li>Report Issues</li> <li>Community Discussions</li> </ul>"},{"location":"pages/contributing/","title":"Contributing to PyPortion","text":"<p>Thank you for your interest in contributing to PyPortion.</p>"},{"location":"pages/contributing/#types-of-contributions","title":"Types of Contributions","text":"<ul> <li>\ud83d\udc1b Reporting bugs \u2013 Found something broken? Open an issue</li> <li>\ud83d\udca1 Suggesting features \u2013 Have an idea? Start a discussion</li> <li>\ud83e\uddea Testing new releases \u2013 Try the latest versions and share feedback</li> <li>\ud83e\uddf1 Improving documentation \u2013 Help others understand pyportion</li> <li>\ud83e\uddf0 Contributing code \u2013 Fix bugs or add new features</li> </ul>"},{"location":"pages/contributing/#local-development-setup","title":"Local Development Setup","text":"<p>In order to contribute to PyPortion code, you can follow these steps:</p> <ol> <li> <p>Fork the repository Go to the GitHub repo and click \"Fork\" to create your own copy.</p> </li> <li> <p>Clone your fork <pre><code>git clone https://github.com/&lt;your-username&gt;/pyportion\n</code></pre></p> </li> <li> <p>Download poetry (if you don't have it) <pre><code>curl -sSL https://install.python-poetry.org | python3 -\n</code></pre></p> </li> <li> <p>Install project dependencies <pre><code>poetry install\n</code></pre></p> </li> <li> <p>Start Development</p> </li> </ol> <p>Make your changes to the codebase. Ensure your code follows the project's coding standards and includes appropriate tests.</p> <ol> <li>Install Pre-Commit Hooks</li> </ol> <p>Once you have completed your changes, install the pre-commit hooks: <pre><code>poetry run pre-commit install\n</code></pre></p> <ol> <li>Commit and Push your changes Use git to commit and push your changes to open a pull request</li> </ol>"},{"location":"pages/contributing/#pre-commit-hooks","title":"Pre-Commit Hooks","text":"<p>Pre-commit hooks run automatically when you commit changes and perform the following checks: * Format code * Lint code * Type check * Sort imports * Run test cases</p> <p>Note: Pre-commit hooks may automatically modify files to match the project's coding style. If this occurs, stage and commit the changes again before pushing.</p>"},{"location":"pages/contributing/#pull-request-review","title":"Pull Request Review","text":"<p>All pull requests go through an automatic review via GitHub Actions, followed by a manual review.</p> <p>Reviewers focus on: * Code clarity and readability * Consistency with the project structure * Test coverage * Quality and clarity of commit messages</p>"},{"location":"pages/contributing/#need-help","title":"Need Help?","text":"<p>If you have questions or need clarification, open a discussion on GitHub.</p>"},{"location":"pages/developer-guide/","title":"Developer Guide","text":"<p>This guide explains the internal structure of PyPortion so you can understand, modify, and extend the codebase.</p>"},{"location":"pages/developer-guide/#project-structure","title":"Project Structure","text":"<pre><code>pyportion/\n\u251c\u2500\u2500 portion/                # Main source package\n\u2502   \u251c\u2500\u2500 __main__.py         # Entry point\n\u2502   \u251c\u2500\u2500 portion.py          # Root CLI app (Typer)\n\u2502   \u251c\u2500\u2500 base/               # Abstract base classes\n\u2502   \u251c\u2500\u2500 commands/           # Business logic per command\n\u2502   \u251c\u2500\u2500 core/               # Singleton managers (logger, template, project)\n\u2502   \u251c\u2500\u2500 handler/            # CLI binding layer\n\u2502   \u251c\u2500\u2500 models/             # Pydantic data models\n\u2502   \u251c\u2500\u2500 step_actions/       # Step implementations\n\u2502   \u2514\u2500\u2500 utils/              # Resolver and Transformer helpers\n\u251c\u2500\u2500 tests/                  # pytest test suite\n\u2514\u2500\u2500 docs/                   # MkDocs documentation\n</code></pre>"},{"location":"pages/developer-guide/#architecture","title":"Architecture","text":"<p>PyPortion uses a three-layer pattern:</p> <pre><code>CLI input\n   \u2502\n   \u25bc\nHandler        \u2190 registers the command with Typer, parses CLI args\n   \u2502\n   \u25bc\nCommand        \u2190 orchestrates business logic, talks to managers\n   \u2502\n   \u25bc\nAction         \u2190 executes a single step (copy, replace, ask\u2026)\n</code></pre>"},{"location":"pages/developer-guide/#handlers","title":"Handlers","text":"<p>Handlers live in <code>portion/handler/</code>. Each one subclasses <code>HandlerBase</code> and registers one or more Typer commands. They are loaded at startup by <code>load_handlers()</code> in <code>portion/handler/__init__.py</code>.</p> <p>Handlers only deal with CLI concerns: parsing arguments, printing errors, calling the corresponding command. No business logic lives here.</p>"},{"location":"pages/developer-guide/#commands","title":"Commands","text":"<p>Commands live in <code>portion/commands/</code>. Each one subclasses <code>CommandBase</code> and holds the business logic for a feature. Commands call core managers (<code>TemplateManager</code>, <code>ProjectManager</code>) to read/write files and templates.</p>"},{"location":"pages/developer-guide/#step-actions","title":"Step Actions","text":"<p>Step actions live in <code>portion/step_actions/</code>. Each one subclasses <code>ActionBase</code> and implements two methods:</p> <ul> <li><code>prepare()</code> \u2014 resolve variables, validate inputs</li> <li><code>apply()</code> \u2014 execute the change (copy file, replace text, etc.)</li> </ul> <p>The factory function <code>create_action()</code> in <code>portion/step_actions/__init__.py</code> maps a step type string to the correct action class.</p>"},{"location":"pages/developer-guide/#core-modules","title":"Core Modules","text":""},{"location":"pages/developer-guide/#logger-portioncoreloggerpy","title":"<code>Logger</code> \u2014 <code>portion/core/logger.py</code>","text":"<p>A singleton wrapping Rich for all terminal output.</p> Method Purpose <code>info(msg)</code> Print an informational message <code>warn(msg)</code> Print a warning <code>error(msg)</code> Print an error <code>prompt(msg)</code> Ask the user for input <code>pulse(msg)</code> Show a spinner while a task runs <p>Obtain the instance anywhere with <code>Logger()</code>.</p>"},{"location":"pages/developer-guide/#templatemanager-portioncoretemplate_managerpy","title":"<code>TemplateManager</code> \u2014 <code>portion/core/template_manager.py</code>","text":"<p>A singleton that handles all template file operations. Templates are stored in the OS user data directory (via platformdirs).</p> Method Purpose <code>download_template(link)</code> Git-clone a template from a URL <code>copy_template(name, project_name)</code> Copy <code>base/</code> into a new project directory <code>copy_portion(template, portion_path, dest)</code> Copy a file from <code>.portions/</code> into the project <code>read_configuration(name)</code> Load and parse a template's <code>.pyportion.yml</code> <code>delete_template(name)</code> Delete a template from disk"},{"location":"pages/developer-guide/#projectmanager-portioncoreproject_managerpy","title":"<code>ProjectManager</code> \u2014 <code>portion/core/project_manager.py</code>","text":"<p>A singleton that handles all project file operations. Uses RedBaron for AST-based Python file modification.</p> Method Purpose <code>initialize_project(path, name)</code> Create a <code>.pyportion.yml</code> in the project <code>read_configuration(path)</code> Load and parse the project's <code>.pyportion.yml</code> <code>replace_in_file(path, replacements)</code> Do text substitution inside a file <code>add_import(path, import_statement)</code> Append an import to a Python file <code>add_to_list(path, list_name, value)</code> Append a value to a Python list variable"},{"location":"pages/developer-guide/#step-actions_1","title":"Step Actions","text":"<p>Each step action corresponds to a <code>type</code> value in a portion's <code>steps</code> list.</p> Type Class What it does <code>ask</code> <code>AskAction</code> Prompts the user and stores the answer in memory <code>set_var</code> <code>SetVarAction</code> Derives a new variable from a fixed value or an existing one <code>copy</code> <code>CopyAction</code> Copies a file from <code>.portions/</code> into the project <code>replace</code> <code>ReplaceAction</code> Replaces keyword placeholders in a file <code>add_import</code> <code>AddImportAction</code> Appends an import statement to a Python file <code>add_to_list</code> <code>AddToListAction</code> Appends a value to a Python list in a file <p>Steps share a <code>memory</code> dict \u2014 a plain <code>dict[str, str]</code> passed through all actions in a portion run. <code>ask</code> and <code>set_var</code> write to it; <code>copy</code>, <code>replace</code>, <code>add_import</code>, and <code>add_to_list</code> read from it via the <code>Resolver</code>.</p>"},{"location":"pages/developer-guide/#models","title":"Models","text":"<p>Models live in <code>portion/models/</code> and are Pydantic dataclasses.</p> File Models Purpose <code>template.py</code> <code>TemplateConfig</code>, <code>TemplatePortion</code>, step types Parsed <code>.pyportion.yml</code> of a template <code>project.py</code> <code>PortionConfig</code>, <code>ProjectTemplate</code> Parsed <code>.pyportion.yml</code> of a project <code>state.py</code> <code>cli_state</code> Global CLI flags (<code>verbose</code>, <code>auto_confirm</code>) <code>message.py</code> <code>Message</code> All user-facing strings in one place <code>config.py</code> <code>Config</code> Static configuration (app name, paths)"},{"location":"pages/developer-guide/#utils","title":"Utils","text":""},{"location":"pages/developer-guide/#resolver-portionutilsresolverpy","title":"<code>Resolver</code> \u2014 <code>portion/utils/resolver.py</code>","text":"<p>Resolves <code>$variable</code> references in strings and path lists using the <code>memory</code> dict.</p> <pre><code>resolver = Resolver(memory={\"name\": \"hello\"})\nresolver.resolve(\"$name_command\")  # \u2192 \"hello_command\"\nresolver.resolve_path([\"cli\", \"$name.py\"])  # \u2192 [\"cli\", \"hello.py\"]\n</code></pre>"},{"location":"pages/developer-guide/#transformer-portionutilstransformerpy","title":"<code>Transformer</code> \u2014 <code>portion/utils/transformer.py</code>","text":"<p>Applies case transformations to a string.</p> <pre><code>Transformer.transform(\"my command\", \"pascalcase\")  # \u2192 \"MyCommand\"\nTransformer.transform(\"my command\", \"camelcase\")   # \u2192 \"myCommand\"\n</code></pre> <p>Supported modes: <code>pascalcase</code>, <code>camelcase</code>, <code>titlecase</code>, <code>uppercase</code>, <code>lowercase</code>.</p>"},{"location":"pages/developer-guide/#adding-a-new-cli-command","title":"Adding a New CLI Command","text":"<ol> <li> <p>Create the command in <code>portion/commands/my_command.py</code>:</p> <pre><code>from portion.base.command import CommandBase\n\nclass MyCommand(CommandBase):\n    def run(self, arg: str) -&gt; None:\n        self.logger.info(f\"Running with {arg}\")\n</code></pre> </li> <li> <p>Create the handler in <code>portion/handler/my_command.py</code>:</p> <pre><code>import typer\nfrom portion.base.handler import HandlerBase\nfrom portion.commands.my_command import MyCommand\n\nclass MyCommandHandler(HandlerBase):\n    def register(self, cli: typer.Typer) -&gt; None:\n        @cli.command(\"my-command\")\n        def my_command(arg: str = typer.Argument(...)):\n            MyCommand().run(arg)\n</code></pre> </li> <li> <p>Register the handler in <code>portion/handler/__init__.py</code>:</p> <pre><code>from portion.handler.my_command import MyCommandHandler\n\ndef load_handlers(cli: typer.Typer) -&gt; None:\n    ...\n    MyCommandHandler().register(cli)\n</code></pre> </li> <li> <p>Add a test in <code>tests/commands/test_my_command.py</code>.</p> </li> </ol>"},{"location":"pages/developer-guide/#adding-a-new-step-action","title":"Adding a New Step Action","text":"<ol> <li> <p>Define the step model in <code>portion/models/template.py</code>:</p> <pre><code>class MyStep(BaseModel):\n    type: Literal[\"my_step\"]\n    my_field: str\n</code></pre> <p>Add <code>MyStep</code> to the <code>TemplatePortionStepsType</code> union and <code>OperationTypes</code> enum.</p> </li> <li> <p>Create the action in <code>portion/step_actions/my_step.py</code>:</p> <pre><code>from portion.base.action import ActionBase\nfrom portion.models.template import MyStep\n\nclass MyStepAction(ActionBase[MyStep]):\n    def prepare(self) -&gt; None:\n        # resolve variables, validate\n        pass\n\n    def apply(self) -&gt; None:\n        # do the work\n        pass\n</code></pre> </li> <li> <p>Register the action in <code>portion/step_actions/__init__.py</code>:</p> <pre><code>from portion.step_actions.my_step import MyStepAction\n\ndef create_action(step, ...):\n    ...\n    if step.type == \"my_step\":\n        return MyStepAction(step, ...)\n</code></pre> </li> <li> <p>Add a test in <code>tests/step_actions/test_my_step.py</code>.</p> </li> </ol>"},{"location":"pages/developer-guide/#running-tests","title":"Running Tests","text":"<pre><code>poetry run pytest\n</code></pre> <p>With coverage:</p> <pre><code>poetry run pytest --cov=portion --cov-report=term-missing\n</code></pre> <p>Type checking:</p> <pre><code>poetry run mypy portion/\n</code></pre> <p>Lint:</p> <pre><code>poetry run flake8 portion/\n</code></pre>"},{"location":"pages/official-templates/","title":"Official Templates","text":"<p>PyPortion maintains a set of official templates that you can download and use right away.</p> Template Description URL <code>cli-template</code> A ready-to-use structure for building Python CLI applications <code>https://github.com/Atharabia/cli-template</code>"},{"location":"pages/official-templates/#download-an-official-template","title":"Download an Official Template","text":"portion template download gh/Atharabia/cli-template <p>For more details on managing templates, see the Template Management guide.</p>"},{"location":"pages/contributing/","title":"Contributing","text":"<p>Thank you for your interest in contributing to PyPortion.</p>"},{"location":"pages/contributing/#types-of-contributions","title":"Types of Contributions","text":"<ul> <li>Reporting bugs \u2014 Found something broken? Open an issue</li> <li>Suggesting features \u2014 Have an idea? Start a discussion</li> <li>Testing new releases \u2014 Try the latest versions and share feedback</li> <li>Improving documentation \u2014 Help others understand PyPortion</li> <li>Contributing code \u2014 Fix bugs or add new features</li> </ul>"},{"location":"pages/contributing/#local-development-setup","title":"Local Development Setup","text":"<ol> <li> <p>Fork the repository</p> <p>Go to the GitHub repo and click \"Fork\" to create your own copy.</p> </li> <li> <p>Clone your fork</p> <pre><code>git clone https://github.com/&lt;your-username&gt;/pyportion\n</code></pre> </li> <li> <p>Install Poetry (if you don't have it)</p> <pre><code>curl -sSL https://install.python-poetry.org | python3 -\n</code></pre> </li> <li> <p>Install project dependencies</p> <pre><code>poetry install\n</code></pre> </li> <li> <p>Install pre-commit hooks</p> <pre><code>poetry run pre-commit install\n</code></pre> </li> <li> <p>Make your changes, then commit and push to open a pull request.</p> </li> </ol>"},{"location":"pages/contributing/#pre-commit-hooks","title":"Pre-Commit Hooks","text":"<p>Pre-commit hooks run automatically on every commit and perform the following checks:</p> <ul> <li>Format code</li> <li>Lint code</li> <li>Type check</li> <li>Sort imports</li> <li>Run test cases</li> </ul> <p>Note: Hooks may automatically modify files to match the project's coding style. If this happens, stage the changes and commit again before pushing.</p>"},{"location":"pages/contributing/#pull-request-review","title":"Pull Request Review","text":"<p>All pull requests go through an automatic review via GitHub Actions, followed by a manual review.</p> <p>Reviewers focus on:</p> <ul> <li>Code clarity and readability</li> <li>Consistency with the project structure</li> <li>Test coverage</li> <li>Quality and clarity of commit messages</li> </ul>"},{"location":"pages/contributing/#need-help","title":"Need Help?","text":"<p>Open a discussion on GitHub.</p>"},{"location":"pages/contributing/architecture/","title":"Architecture","text":""},{"location":"pages/contributing/architecture/#project-structure","title":"Project Structure","text":"<pre><code>pyportion/\n\u251c\u2500\u2500 portion/                # Main source package\n\u2502   \u251c\u2500\u2500 __main__.py         # Entry point \u2014 calls Portion().run()\n\u2502   \u251c\u2500\u2500 portion.py          # Root CLI app (Typer) and global flags\n\u2502   \u251c\u2500\u2500 base/               # Abstract base classes (CommandBase, HandlerBase, ActionBase)\n\u2502   \u251c\u2500\u2500 commands/           # Business logic \u2014 one file per command\n\u2502   \u251c\u2500\u2500 core/               # Singleton managers (Logger, TemplateManager, ProjectManager)\n\u2502   \u251c\u2500\u2500 handler/            # CLI binding \u2014 registers commands with Typer\n\u2502   \u251c\u2500\u2500 models/             # Pydantic data models\n\u2502   \u251c\u2500\u2500 step_actions/       # Step implementations (copy, replace, ask, \u2026)\n\u2502   \u2514\u2500\u2500 utils/              # Resolver and Transformer helpers\n\u251c\u2500\u2500 tests/                  # pytest test suite\n\u2514\u2500\u2500 docs/                   # MkDocs documentation\n</code></pre>"},{"location":"pages/contributing/architecture/#the-three-layer-pattern","title":"The Three-Layer Pattern","text":"<p>Every CLI command flows through three layers:</p> <pre><code>CLI input\n   \u2502\n   \u25bc\nHandler        \u2190 registers the command with Typer, parses CLI args\n   \u2502\n   \u25bc\nCommand        \u2190 orchestrates business logic, calls core managers\n   \u2502\n   \u25bc\nAction         \u2190 executes a single step (copy, replace, ask, \u2026)\n</code></pre>"},{"location":"pages/contributing/architecture/#handlers-portionhandler","title":"Handlers (<code>portion/handler/</code>)","text":"<p>Each handler subclasses <code>HandlerBase</code> and registers one or more Typer commands. They are loaded at startup by <code>load_handlers()</code> in <code>portion/handler/__init__.py</code>.</p> <p>Handlers deal only with CLI concerns: parsing arguments, calling the command, printing top-level errors. No business logic lives here.</p>"},{"location":"pages/contributing/architecture/#commands-portioncommands","title":"Commands (<code>portion/commands/</code>)","text":"<p>Each command subclasses <code>CommandBase</code> and holds the business logic for one feature. Commands call core managers (<code>TemplateManager</code>, <code>ProjectManager</code>) to read and write files and templates.</p>"},{"location":"pages/contributing/architecture/#actions-portionstep_actions","title":"Actions (<code>portion/step_actions/</code>)","text":"<p>Each action subclasses <code>ActionBase</code> and implements two methods:</p> <ul> <li><code>prepare()</code> \u2014 resolve variables, validate inputs</li> <li><code>apply()</code> \u2014 execute the change (copy file, replace text, etc.)</li> </ul> <p>The factory function <code>create_action()</code> in <code>portion/step_actions/__init__.py</code> maps a step <code>type</code> string to the correct action class.</p>"},{"location":"pages/contributing/architecture/#models-portionmodels","title":"Models (<code>portion/models/</code>)","text":"<p>All data structures are Pydantic models.</p> File Models Purpose <code>template.py</code> <code>TemplateConfig</code>, <code>TemplatePortion</code>, step types Parsed <code>.pyportion.yml</code> of a template <code>project.py</code> <code>PortionConfig</code>, <code>ProjectTemplate</code> Parsed <code>.pyportion.yml</code> of a project <code>state.py</code> <code>cli_state</code> Global CLI flags (<code>verbose</code>, <code>auto_confirm</code>) <code>message.py</code> <code>Message</code> All user-facing strings in one place <code>config.py</code> <code>Config</code> Static configuration (app name, paths)"},{"location":"pages/contributing/architecture/#utils-portionutils","title":"Utils (<code>portion/utils/</code>)","text":""},{"location":"pages/contributing/architecture/#resolver-portionutilsresolverpy","title":"<code>Resolver</code> \u2014 <code>portion/utils/resolver.py</code>","text":"<p>Resolves <code>$variable</code> references in strings and path lists using the shared <code>memory</code> dict.</p> <pre><code>resolver = Resolver(memory={\"name\": \"hello\"})\nresolver.resolve(\"$name_command\")               # \u2192 \"hello_command\"\nresolver.resolve_path([\"cli\", \"$name.py\"])      # \u2192 [\"cli\", \"hello.py\"]\n</code></pre>"},{"location":"pages/contributing/architecture/#transformer-portionutilstransformerpy","title":"<code>Transformer</code> \u2014 <code>portion/utils/transformer.py</code>","text":"<p>Applies case transformations to a string.</p> <pre><code>Transformer.transform(\"my command\", \"pascalcase\")  # \u2192 \"MyCommand\"\nTransformer.transform(\"my command\", \"camelcase\")   # \u2192 \"myCommand\"\n</code></pre> <p>Supported modes: <code>pascalcase</code>, <code>camelcase</code>, <code>titlecase</code>, <code>uppercase</code>, <code>lowercase</code>.</p>"},{"location":"pages/contributing/core-modules/","title":"Core Modules","text":"<p>Core modules live in <code>portion/core/</code> and are all singletons \u2014 call the class to get the shared instance from anywhere in the codebase.</p>"},{"location":"pages/contributing/core-modules/#logger-portioncoreloggerpy","title":"<code>Logger</code> \u2014 <code>portion/core/logger.py</code>","text":"<p>Wraps Rich for all terminal output. Respects the global <code>verbose</code> flag from <code>cli_state</code>.</p> <pre><code>from portion.core.logger import Logger\n\nlogger = Logger()\nlogger.info(\"Template downloaded.\")\n</code></pre> Method Purpose <code>info(msg)</code> Print an informational message <code>warn(msg)</code> Print a warning <code>error(msg)</code> Print an error and exit <code>prompt(msg)</code> Ask the user for input and return the answer <code>pulse(msg)</code> Show a spinner while a task runs"},{"location":"pages/contributing/core-modules/#templatemanager-portioncoretemplate_managerpy","title":"<code>TemplateManager</code> \u2014 <code>portion/core/template_manager.py</code>","text":"<p>Handles all template file operations. Templates are stored in the OS user data directory via platformdirs.</p> <pre><code>from portion.core.template_manager import TemplateManager\n\ntm = TemplateManager()\ntm.download_template(\"https://github.com/org/my-template\")\n</code></pre> Method Purpose <code>download_template(link)</code> Git-clone a template from a URL <code>copy_template(name, project_name)</code> Copy <code>base/</code> into a new project directory <code>copy_portion(template, portion_path, dest)</code> Copy a file from <code>.portions/</code> into the project <code>read_configuration(name)</code> Load and parse a template's <code>.pyportion.yml</code> <code>delete_template(name)</code> Delete a template from disk"},{"location":"pages/contributing/core-modules/#projectmanager-portioncoreproject_managerpy","title":"<code>ProjectManager</code> \u2014 <code>portion/core/project_manager.py</code>","text":"<p>Handles all project file operations. Uses RedBaron for AST-based Python file modification, which means it parses the actual Python syntax tree rather than doing raw text replacement.</p> <pre><code>from portion.core.project_manager import ProjectManager\n\npm = ProjectManager()\npm.add_import([\"cli\", \"__init__.py\"], \"from .my_cmd import my_cmd\")\n</code></pre> Method Purpose <code>initialize_project(path, name)</code> Create a <code>.pyportion.yml</code> in the project <code>read_configuration(path)</code> Load and parse the project's <code>.pyportion.yml</code> <code>replace_in_file(path, replacements)</code> Do text substitution inside a file <code>add_import(path, import_statement)</code> Append an import to a Python file <code>add_to_list(path, list_name, value)</code> Append a value to a Python list variable"},{"location":"pages/contributing/extending/","title":"Extending PyPortion","text":""},{"location":"pages/contributing/extending/#adding-a-new-cli-command","title":"Adding a New CLI Command","text":"<p>Follow these four steps to add a new top-level command.</p> <p>1. Create the command in <code>portion/commands/my_command.py</code>:</p> <pre><code>from portion.base.command import CommandBase\n\nclass MyCommand(CommandBase):\n    def run(self, arg: str) -&gt; None:\n        self.logger.info(f\"Running with {arg}\")\n</code></pre> <p>2. Create the handler in <code>portion/handler/my_command.py</code>:</p> <pre><code>import typer\nfrom portion.base.handler import HandlerBase\nfrom portion.commands.my_command import MyCommand\n\nclass MyCommandHandler(HandlerBase):\n    def register(self, cli: typer.Typer) -&gt; None:\n        @cli.command(\"my-command\")\n        def my_command(arg: str = typer.Argument(...)):\n            MyCommand().run(arg)\n</code></pre> <p>3. Register the handler in <code>portion/handler/__init__.py</code>:</p> <pre><code>from portion.handler.my_command import MyCommandHandler\n\ndef load_handlers(cli: typer.Typer) -&gt; None:\n    ...\n</code></pre> <p>4. Add a test in <code>tests/commands/test_my_command.py</code>.</p>"},{"location":"pages/contributing/extending/#adding-a-new-step-action","title":"Adding a New Step Action","text":"<p>Follow these four steps to add a new step type.</p> <p>1. Define the step model in <code>portion/models/template.py</code>:</p> <pre><code>class MyStep(BaseModel):\n    type: Literal[\"my_step\"]\n    my_field: str\n</code></pre> <p>Then add <code>MyStep</code> to the <code>TemplatePortionStepsType</code> union and add <code>\"my_step\"</code> to the <code>OperationTypes</code> enum.</p> <p>2. Create the action in <code>portion/step_actions/my_step.py</code>:</p> <pre><code>from portion.base.action import ActionBase\nfrom portion.models.template import MyStep\n\nclass MyStepAction(ActionBase[MyStep]):\n    def prepare(self) -&gt; None:\n        # Resolve variables, validate inputs\n        pass\n\n    def apply(self) -&gt; None:\n        # Execute the change\n        pass\n</code></pre> <p>3. Register the action in <code>portion/step_actions/__init__.py</code>:</p> <pre><code>from portion.step_actions.my_step import MyStepAction\n\ndef create_action(step, ...):\n    ...\n    if step.type == \"my_step\":\n        return MyStepAction(step, ...)\n</code></pre> <p>4. Add a test in <code>tests/step_actions/test_my_step.py</code>.</p>"},{"location":"pages/contributing/step-actions/","title":"Step Actions","text":"<p>Step actions live in <code>portion/step_actions/</code>. Each one maps to a <code>type</code> value in a portion's <code>steps</code> list and is responsible for executing one unit of work during a <code>portion build</code> run.</p>"},{"location":"pages/contributing/step-actions/#how-they-work","title":"How They Work","text":"<p>All actions subclass <code>ActionBase[TStep]</code> and implement two methods:</p> <pre><code>class MyAction(ActionBase[MyStep]):\n    def prepare(self) -&gt; None:\n        # Resolve variables, validate fields\n        ...\n\n    def apply(self) -&gt; None:\n        # Execute the change\n        ...\n</code></pre> <p>Steps in a portion share a <code>memory</code> dict \u2014 a plain <code>dict[str, str]</code> that is passed through every action in the run. <code>ask</code> and <code>set_var</code> write to it; all other actions read from it through the <code>Resolver</code>.</p> <p>The factory function <code>create_action()</code> in <code>portion/step_actions/__init__.py</code> maps a step type string to the correct action class.</p>"},{"location":"pages/contributing/step-actions/#available-actions","title":"Available Actions","text":"Type Class What it does <code>ask</code> <code>AskAction</code> Prompts the user and stores the answer in <code>memory</code> <code>set_var</code> <code>SetVarAction</code> Derives a new variable from a fixed value or an existing one and stores it in <code>memory</code> <code>copy</code> <code>CopyAction</code> Copies a file from <code>.portions/</code> into the project <code>replace</code> <code>ReplaceAction</code> Replaces keyword placeholders in a file <code>add_import</code> <code>AddImportAction</code> Appends an import statement to a Python file <code>add_to_list</code> <code>AddToListAction</code> Appends a value to a Python list variable in a file"},{"location":"pages/contributing/step-actions/#file-map","title":"File Map","text":"File Class <code>step_actions/ask.py</code> <code>AskAction</code> <code>step_actions/set_var.py</code> <code>SetVarAction</code> <code>step_actions/copy.py</code> <code>CopyAction</code> <code>step_actions/replace.py</code> <code>ReplaceAction</code> <code>step_actions/add_import.py</code> <code>AddImportAction</code> <code>step_actions/add_to_list.py</code> <code>AddToListAction</code> <code>step_actions/__init__.py</code> <code>create_action()</code> factory"},{"location":"pages/contributing/testing/","title":"Testing","text":""},{"location":"pages/contributing/testing/#test-structure","title":"Test Structure","text":"<pre><code>tests/\n\u251c\u2500\u2500 conftest.py               # Shared fixtures\n\u251c\u2500\u2500 commands/                 # Tests for each command\n\u251c\u2500\u2500 step_actions/             # Tests for each step action\n\u2514\u2500\u2500 utils/                    # Test helpers (ANSI stripping, template fixtures)\n</code></pre>"},{"location":"pages/contributing/testing/#running-tests","title":"Running Tests","text":"<pre><code>poetry run pytest\n</code></pre> <p>With coverage report:</p> <pre><code>poetry run pytest --cov=portion --cov-report=term-missing\n</code></pre>"},{"location":"pages/contributing/testing/#type-checking","title":"Type Checking","text":"<pre><code>poetry run mypy portion/\n</code></pre>"},{"location":"pages/contributing/testing/#linting","title":"Linting","text":"<pre><code>poetry run flake8 portion/\n</code></pre>"},{"location":"pages/contributing/testing/#import-sorting","title":"Import Sorting","text":"<pre><code>poetry run isort portion/\n</code></pre> <p>All of the above also run automatically via pre-commit hooks on every commit.</p>"},{"location":"pages/user-guide/1-introduction/","title":"Introduction","text":"<p>Welcome to the PyPortion User Guide. This documentation provides comprehensive instructions for installing, configuring, and using PyPortion in your Python development workflow.</p>"},{"location":"pages/user-guide/1-introduction/#what-is-pyportion","title":"What is PyPortion?","text":"<p>PyPortion is a command-line interface (CLI) tool designed to streamline Python project creation and management. It enables developers to scaffold new projects quickly using standardized templates, ensuring consistency across codebases.</p>"},{"location":"pages/user-guide/1-introduction/#what-you-will-learn","title":"What You Will Learn","text":"<p>This guide covers the following topics:</p> <ul> <li>Installation - How to install PyPortion on your system</li> <li>Template Management - How to download, list, view and remove templates</li> <li>Project Creation - How to create new projects using templates</li> <li>Customization - How to create and extend templates to match your requirements</li> </ul>"},{"location":"pages/user-guide/1-introduction/#prerequisites","title":"Prerequisites","text":"<p>Before getting started, ensure you have the following:</p> <ul> <li>Python 3.10 or higher installed on your system</li> <li>Basic familiarity with the command line</li> </ul>"},{"location":"pages/user-guide/1-introduction/#next-steps","title":"Next Steps","text":"<p>Proceed to the Get Started section to install PyPortion and create your first project.</p>"},{"location":"pages/user-guide/10-publishing-a-template/","title":"Publishing a Template","text":"<p>A PyPortion template is just a Git repository. Once your template is ready, push it to GitHub or GitLab and users can download it immediately.</p>"},{"location":"pages/user-guide/10-publishing-a-template/#push-to-git","title":"Push to Git","text":"<pre><code>git init\ngit add .\ngit commit -m \"Initial template\"\ngit remote add origin https://github.com/your-org/my-template\ngit push -u origin main\n</code></pre>"},{"location":"pages/user-guide/10-publishing-a-template/#download-the-template","title":"Download the Template","text":"<p>Users can download your template with the full URL:</p> portion template download https://github.com/your-org/my-template <p>Or using the GitHub shorthand:</p> portion template download gh/your-org/my-template"},{"location":"pages/user-guide/2-installation/","title":"Installation","text":"<p>Install PyPortion using pip:</p> pip install pyportion <p>Verify Installation:</p> portion --version <p>To view all available commands and options, use the <code>--help</code> flag:</p> portion --help"},{"location":"pages/user-guide/2-installation/#next-steps","title":"Next Steps","text":"<ul> <li>Template Management \u2014 Explore the available templates to find one that fits your project requirements</li> <li>Project Creation \u2014 Learn how to create a new project from a template</li> <li>Template Creation \u2014 Learn how to create custom templates to standardize your team's workflow</li> </ul>"},{"location":"pages/user-guide/3-templates-management/","title":"Template Management","text":""},{"location":"pages/user-guide/3-templates-management/#working-with-templates","title":"Working with Templates","text":"<p>Templates define the structure and configuration of your projects. PyPortion provides built-in templates and supports custom templates.</p>"},{"location":"pages/user-guide/3-templates-management/#list-available-templates","title":"List Available Templates","text":"<p>View all templates currently available on your system:</p> portion template list"},{"location":"pages/user-guide/3-templates-management/#pyportion-official-templates","title":"PyPortion Official Templates","text":"<p>It makes sense that you start without any templates. PyPortion provides a set of official templates maintained by the team that you can download and use right away.</p> Template Description URL <code>cli-template</code> A ready-to-use structure for building Python CLI applications <code>https://github.com/Atharabia/cli-template</code> <p>View all official templates here</p>"},{"location":"pages/user-guide/3-templates-management/#download-a-template","title":"Download a Template","text":"<p>Download a template from a remote repository:</p> portion template download &lt;template-url&gt; <p>Replace <code>&lt;template-url&gt;</code> with the URL of the template repository:</p> portion template download https://github.com/Atharabia/cli-template"},{"location":"pages/user-guide/3-templates-management/#link-alias","title":"Link Alias","text":"<p>You can also use shorthand aliases instead of full URLs:</p> portion template download gh/Atharabia/cli-template"},{"location":"pages/user-guide/3-templates-management/#view-template-info","title":"View Template Info","text":"<p>Inspect a template's metadata and available portions:</p> portion template info &lt;template-name&gt; <p>Example:</p> portion template info cli-template"},{"location":"pages/user-guide/3-templates-management/#remove-a-template","title":"Remove a Template","text":"<p>Delete a template from your local system:</p> portion template remove &lt;template-name&gt; <p>Example:</p> portion template remove cli-template"},{"location":"pages/user-guide/3-templates-management/#next-steps","title":"Next Steps","text":"<ul> <li>Project Creation \u2014 Create a new project from a downloaded template</li> <li>Template Creation \u2014 Build and publish your own custom templates</li> </ul>"},{"location":"pages/user-guide/4-project-creation/","title":"Creating a New Project","text":"<p>Once you have a template downloaded, scaffold a new project with the <code>new</code> command:</p> portion new &lt;template-name&gt; &lt;project-name&gt; <p>Parameters:</p> <ul> <li><code>&lt;template-name&gt;</code> \u2014 Name of the downloaded template to use</li> <li><code>&lt;project-name&gt;</code> \u2014 Name for the new project directory</li> </ul> <p>Example:</p> portion new cli-template my-awesome-app <p>This creates a <code>my-awesome-app/</code> directory pre-populated with the structure defined in <code>cli-template</code>.</p>"},{"location":"pages/user-guide/4-project-creation/#adding-more-templates","title":"Adding More Templates","text":"<p>A project can use more than one template. To attach an additional template to a project you've already created:</p> portion add &lt;template-name&gt; <p>Example:</p> portion add cli-template <p>This registers the template in your project's <code>.pyportion.yml</code>, making its portions available for use.</p>"},{"location":"pages/user-guide/4-project-creation/#remove-a-template","title":"Remove a Template","text":"<p>To detach a template from your project:</p> portion remove &lt;template-name&gt; <p>This removes the template reference from <code>.pyportion.yml</code>. It does not delete any previously generated files.</p>"},{"location":"pages/user-guide/4-project-creation/#view-project-info","title":"View Project Info","text":"<p>Display the current project configuration and its attached templates:</p> portion info"},{"location":"pages/user-guide/4-project-creation/#building-portions","title":"Building Portions","text":"<p>A portion is a named, reusable code-generation recipe defined inside a template. Once a template is attached to your project, run any of its portions to scaffold new code:</p> portion build &lt;portion-name&gt; <p>Example \u2014 scaffold a new command using the <code>cli-template</code>:</p> portion build command <p>PyPortion prompts you for any required inputs, shows a summary of the changes it will make, and asks for confirmation before applying them.</p> <p>Use the <code>-y</code> flag to skip the confirmation prompt:</p> portion -y build command"},{"location":"pages/user-guide/4-project-creation/#next-steps","title":"Next Steps","text":"<ul> <li>Existing Project \u2014 Add PyPortion to a project you've already started</li> <li>Cloning a PyPortion Project \u2014 Work with a PyPortion project after cloning it from GitHub</li> <li>Template Creation \u2014 Build and publish your own custom templates</li> </ul>"},{"location":"pages/user-guide/5-existing-project/","title":"Adding PyPortion to an Existing Project","text":"<p>If you have an existing Python project you want to manage with PyPortion, you don't need to start from scratch. The <code>init</code> command adds PyPortion to any existing project directory.</p>"},{"location":"pages/user-guide/5-existing-project/#initialize-the-project","title":"Initialize the Project","text":"<p>Navigate into your project directory and run:</p> portion init &lt;project-name&gt; <p>Example:</p> portion init my-existing-app <p>This creates a <code>.pyportion.yml</code> configuration file in the current directory. No existing files are modified.</p>"},{"location":"pages/user-guide/5-existing-project/#attach-a-template","title":"Attach a Template","text":"<p>Once the project is initialized, attach one or more templates to it:</p> portion add &lt;template-name&gt; <p>Example:</p> portion add cli-template <p>The template is registered in <code>.pyportion.yml</code>. Its portions are now available to use in the project.</p>"},{"location":"pages/user-guide/5-existing-project/#build-portions","title":"Build Portions","text":"<p>With a template attached, scaffold new code using its portions:</p> portion build &lt;portion-name&gt; <p>Example:</p> portion build command"},{"location":"pages/user-guide/5-existing-project/#next-steps","title":"Next Steps","text":"<ul> <li>Cloning a PyPortion Project \u2014 Work with a PyPortion project after cloning it from GitHub</li> <li>Template Creation \u2014 Build and publish your own custom templates</li> </ul>"},{"location":"pages/user-guide/6-syncing-templates/","title":"Cloning a PyPortion Project","text":"<p>When you clone a PyPortion project from GitHub, the project's <code>.pyportion.yml</code> already lists the templates it uses \u2014 but those templates are not included in the repository. You need to download them locally before you can build portions.</p>"},{"location":"pages/user-guide/6-syncing-templates/#download-all-templates","title":"Download All Templates","text":"<p>From inside the cloned project directory, run:</p> portion template download <p>Running <code>portion template download</code> without any arguments reads your project's <code>.pyportion.yml</code> and downloads every template listed there to your local machine.</p>"},{"location":"pages/user-guide/6-syncing-templates/#build-portions","title":"Build Portions","text":"<p>Once the templates are downloaded, you can scaffold code as usual:</p> portion build &lt;portion-name&gt; <p>Example:</p> portion build command"},{"location":"pages/user-guide/6-syncing-templates/#typical-workflow-after-cloning","title":"Typical Workflow After Cloning","text":"git clone https://github.com/your-org/my-awesome-app cd my-awesome-app portion template download portion build command"},{"location":"pages/user-guide/6-syncing-templates/#next-steps","title":"Next Steps","text":"<ul> <li>Template Creation \u2014 Build and publish your own custom templates</li> </ul>"},{"location":"pages/user-guide/7-template-creation/","title":"Template Creation","text":"<p>This guide walks you through creating a custom PyPortion template that you can share and reuse across projects.</p>"},{"location":"pages/user-guide/7-template-creation/#template-structure","title":"Template Structure","text":"<p>A PyPortion template is a Git repository with the following layout:</p> <pre><code>my-template/\n\u251c\u2500\u2500 .pyportion.yml\n\u251c\u2500\u2500 base/\n\u2502   \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 .portions/\n    \u2514\u2500\u2500 ...\n</code></pre> Path Purpose <code>.pyportion.yml</code> Describes the template and defines its portions <code>base</code> Files that are copied into a new project directory when running <code>portion new</code> <code>.portions</code> File snippets that portions can copy and transform into the project <p>You will build the template structure, files, and steps manually.</p>"},{"location":"pages/user-guide/7-template-creation/#template-configuration","title":"Template Configuration","text":"<p>The <code>.pyportion.yml</code> file has two sections: metadata and portions.</p> <pre><code>name: my-template\nversion: 1.0.0\ndescription: A short description of what this template does.\nauthor: Your Name\ntype: cli\n\nsource:\n    link: https://github.com/your-org/my-template\n    tag: main\n\nportions:\n    - name: command\n      steps:\n          - ...\n</code></pre>"},{"location":"pages/user-guide/7-template-creation/#metadata-fields","title":"Metadata Fields","text":"Field Description <code>name</code> Template identifier (must match the repository name) <code>version</code> Semantic version of the template <code>description</code> Short description shown in <code>portion template info</code> <code>author</code> Author or team name <code>type</code> Category label (e.g. <code>cli</code>, <code>api</code>, <code>library</code>) <code>source.link</code> Git URL of the template repository <code>source.tag</code> Branch or tag to track"},{"location":"pages/user-guide/7-template-creation/#portions","title":"Portions","text":"<p>A portion is a named sequence of steps that generates or modifies files inside a project. Portions are triggered with <code>portion build &lt;portion-name&gt;</code>.</p> <p>Each portion has a <code>name</code> and a list of <code>steps</code>. Here is a simple example that copies a file from <code>.portions/</code> into the project:</p> <pre><code>portions:\n    - name: command\n      steps:\n          - type: copy\n            from_path: [\"command.py\"]\n            to_path: [\"cli\", \"commands\", \"command.py\"]\n</code></pre> <p>Steps run in order. You can chain as many steps as needed \u2014 see the Steps Reference for the full list.</p>"},{"location":"pages/user-guide/7-template-creation/#the-base-directory","title":"The <code>base</code> Directory","text":"<p>The <code>base</code> directory contains files that are copied into a new project when a user runs <code>portion new</code>. Think of it as the starting scaffold \u2014 things like a <code>README.md</code>, a <code>pyproject.toml</code>, a default folder structure, or any other file every new project should begin with.</p> <pre><code>base/\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 pyproject.toml\n\u2514\u2500\u2500 src/\n    \u2514\u2500\u2500 __init__.py\n</code></pre> <p>Files in <code>base</code> are not processed or transformed \u2014 they are copied as-is.</p>"},{"location":"pages/user-guide/7-template-creation/#the-portions-directory","title":"The <code>.portions</code> Directory","text":"<p>The <code>.portions</code> directory holds the file snippets that your portions work with. When a portion runs a <code>copy</code> step, it pulls the source file from here and places it into the user's project.</p> <pre><code>.portions/\n\u2514\u2500\u2500 command.py\n</code></pre> <p>The files inside can contain placeholder keywords that the <code>replace</code> step will substitute with real values at build time. This is how you turn a generic snippet into a project-specific file.</p>"},{"location":"pages/user-guide/7-template-creation/#next-steps","title":"Next Steps","text":"<ul> <li>Steps Reference \u2014 all available step types and their fields</li> <li>Variables \u2014 how to use variables across steps</li> <li>Publishing a Template \u2014 how to share your template with others</li> </ul>"},{"location":"pages/user-guide/8-steps-reference/","title":"Steps Reference","text":"<p>Steps are the building blocks of a portion. They run in order and can read and write variables, copy files, and modify project files.</p>"},{"location":"pages/user-guide/8-steps-reference/#ask","title":"<code>ask</code>","text":"<p>Prompt the user for a value and store it in a variable for use in later steps.</p> <pre><code>- type: ask\n  question: What is the command name?\n  variable: command_name\n</code></pre> Field Description <code>question*</code> The prompt shown to the user <code>variable*</code> Variable name to store the answer (referenced with <code>$variable_name</code>)"},{"location":"pages/user-guide/8-steps-reference/#set_var","title":"<code>set_var</code>","text":"<p>Derive a new variable from a fixed value or an existing variable, optionally applying a case transformation.</p> <pre><code>- type: set_var\n  key: command_class\n  value: $command_name\n  mode: titlecase\n</code></pre> Field Description <code>key*</code> Name of the new variable <code>value*</code> Source value (can reference an existing variable) <code>mode</code> Transformation to apply: <code>pascalcase</code>, <code>camelcase</code>, <code>titlecase</code>, <code>uppercase</code>, <code>lowercase</code>"},{"location":"pages/user-guide/8-steps-reference/#copy","title":"<code>copy</code>","text":"<p>Copy a file from <code>.portions/</code> into the project directory.</p> <pre><code>- type: copy\n  from_path: [\"command.py\"]\n  to_path: [\"cli\", \"commands\", \"$command_name.py\"]\n</code></pre> Field Description <code>from_path*</code> Path segments relative to <code>.portions/</code> <code>to_path*</code> Destination path segments in the project (supports variable substitution)"},{"location":"pages/user-guide/8-steps-reference/#replace","title":"<code>replace</code>","text":"<p>Replace keyword placeholders inside a file with variable values.</p> <pre><code>- type: replace\n  path: [\"cli\", \"commands\", \"$command_name.py\"]\n  replacements:\n      - keyword: COMMAND_CLASS_NAME\n        value: $command_name\n        mode: pascalcase\n</code></pre> Field Description <code>path*</code> Path segments to the file in the project <code>replacements*</code> List of keyword/value pairs <code>replacements[].keyword*</code> Literal string to search for in the file <code>replacements[].value*</code> Replacement value (supports variable substitution) <code>replacements[].mode</code> Case transformation applied to the replacement value"},{"location":"pages/user-guide/8-steps-reference/#add_import","title":"<code>add_import</code>","text":"<p>Append an import statement to a Python file.</p> <pre><code>- type: add_import\n  path: [\"cli\", \"commands\", \"__init__.py\"]\n  import_statement: \"from .$command_name import $command_class\"\n</code></pre> Field Description <code>path*</code> Path segments to the target Python file <code>import_statement*</code> The import line to add (supports variable substitution)"},{"location":"pages/user-guide/8-steps-reference/#add_to_list","title":"<code>add_to_list</code>","text":"<p>Append a value to a Python list variable in a file.</p> <pre><code>- type: add_to_list\n  path: [\"cli\", \"commands\", \"__init__.py\"]\n  list_name: \"__all__\"\n  value: \"$command_class\"\n</code></pre> Field Description <code>path*</code> Path segments to the target Python file <code>list_name*</code> Name of the list variable to append to <code>value*</code> Value to append (supports variable substitution)"},{"location":"pages/user-guide/9-variable-substitution/","title":"Variables","text":"<p>Variables collected via <code>ask</code> or derived via <code>set_var</code> can be referenced anywhere in step fields using the <code>$variable_name</code> syntax.</p>"},{"location":"pages/user-guide/9-variable-substitution/#usage","title":"Usage","text":"<p>Reference a variable by prefixing its name with <code>$</code>:</p> <pre><code>- type: copy\n  from_path: [\"command.py\"]\n  to_path: [\"cli\", \"commands\", \"$command_name.py\"]\n</code></pre> <p>Variables are substituted before the step runs, so the file will be placed at the resolved path.</p>"},{"location":"pages/user-guide/9-variable-substitution/#case-transformations","title":"Case Transformations","text":"<p>The <code>replace</code> and <code>set_var</code> steps accept an optional <code>mode</code> field that transforms the variable value before it is used.</p> Mode Input Output <code>pascalcase</code> <code>my command</code> <code>MyCommand</code> <code>camelcase</code> <code>my command</code> <code>myCommand</code> <code>titlecase</code> <code>my command</code> <code>My Command</code> <code>uppercase</code> <code>my command</code> <code>MY COMMAND</code> <code>lowercase</code> <code>My Command</code> <code>my command</code>"},{"location":"pages/user-guide/9-variable-substitution/#example","title":"Example","text":"<pre><code>- type: set_var\n  key: command_class\n  value: $command_name\n  mode: pascalcase\n\n- type: replace\n  path: [\"cli\", \"commands\", \"$command_name.py\"]\n  replacements:\n      - keyword: COMMAND_CLASS_NAME\n        value: $command_class\n</code></pre> <p>Here <code>$command_name</code> is collected from the user and <code>$command_class</code> is derived from it in PascalCase. Both are then available to all following steps.</p>"}]}